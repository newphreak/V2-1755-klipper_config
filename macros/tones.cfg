#####################################################################
#	Tones
# 
#     |~~~~~~~~~~~~~~~|
#     |~~~~~~~~~~~~~~~|
#     |               |
# /~~\|           /~~\|
# \__/            \__/
# 
#####################################################################

[gcode_macro TOGGLE_BEEPER]
description: Toggle the printer beeper on and off.
gcode:
	{% set beeper_state = printer.save_variables.variables.beeper_state|lower %}

	{% if printer['gcode_macro _USER_VARIABLE'].debug == 1 %}
		{action_respond_info('==== TOGGLE_BEEPER ====')}
		{action_respond_info("beeper_state: %s" % (beeper_state))}
		{action_respond_info('===============')}
	{% endif %}

	{% if beeper_state == "off" %}
		{action_respond_info('beeper is off, turning it on')}
		SAVE_VARIABLE VARIABLE=beeper_state VALUE='"on"'
	{% else %}
		{action_respond_info('beeper is on= turning it off')}
		SAVE_VARIABLE VARIABLE=beeper_state VALUE='"off"'
	{% endif %}
	SONG_SINGLE_BEEP

[gcode_macro SONG_SINGLE_BEEP]
gcode:
	M300 S830.61 P137

[gcode_macro SONG_THUNDERSTRUCK]
gcode:
	M300 S987 P166
	M300 S2489 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S987 P166
	M300 S2489 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S987 P166
	M300 S2489 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S987 P166
	M300 S2959 P166
	M300 S2637 P166
	M300 S987 P166
	M300 S1760 P166
	M300 S987 P166
	M300 S2637 P166
	M300 S987 P166
	M300 S1760 P166
	M300 S987 P166
	M300 S2637 P166
	M300 S987 P166
	M300 S1760 P166
	M300 S987 P166
	M300 S2637 P166
	M300 S987 P166
	M300 S1760 P166

[gcode_macro SONG_AFRICA]
gcode:
	M300 S2959 P150
	M300 S2959 P150
	M300 S2959 P150
	M300 S2959 P450
	M300 S2959 P150
	M300 S2959 P450
	M300 S3322 P300
	M300 S1864 P150
	M300 S1975 P1200
	M300 S2489 P150
	M300 S2489 P450
	M300 S2637 P300
	M300 S2959 P300
	M300 S2959 P300
	M300 S2637 P225
	M300 S2637 P300
	M300 S2489 P300
	M300 S2217 P600
	M300 S2217 P300
	M300 S987 P300
	M300 S2489 P600
	M300 S2217 P150
	M300 S987 P300
	M300 S2217 P1200
	M300 S2959 P150
	M300 S2959 P150
	M300 S2959 P600
	M300 S2959 P150
	M300 S2959 P450
	M300 S3322 P300
	M300 S1864 P150
	M300 S1975 P1200
	M300 S2489 P150
	M300 S2489 P150
	M300 S2489 P150
	M300 S2637 P300
	M300 S2959 P300
	M300 S2959 P450
	M300 S2637 P300
	M300 S2637 P300
	M300 S2489 P225
	M300 S2217 P600
	M300 S2217 P300
	M300 S987 P300
	M300 S2489 P900
	M300 S2217 P150
	M300 S987 P300
	M300 S2217 P1200

[gcode_macro SONG_STARWARS_IMP]
gcode:
	M300 S1174 P401
	M300 S1174 P401
	M300 S1174 P401
	M300 S466 P267
	M300 S1396 P133
	M300 S1174 P401
	M300 S466 P267
	M300 S1396 P133
	M300 S1174 P803

[gcode_macro SONG_ALLIWANT]
gcode:
	M300 S1046 P333
	M300 S1318 P333
	M300 S1567 P333
	M300 S987 P166
	M300 S0 P41
	M300 S2093 P333
	M300 S0 P83
	M300 S0 P41
	M300 S987 P333
	M300 S880 P166
	M300 S0 P41
	M300 S1567 P333
	M300 S0 P83
	M300 S0 P41
	M300 S2349 P333
	M300 S2093 P333
	M300 S2093 P333
	M300 S987 P333
	M300 S2093 P166
	M300 S0 P41
	M300 S987 P333
	M300 S0 P83
	M300 S0 P41
	M300 S880 P166
	M300 S1567 P333
	M300 S0 P166
	M300 S1396 P333
	M300 S880 P333
	M300 S2093 P333
	M300 S2349 P333
	M300 S2637 P333
	M300 S2349 P166
	M300 S2093 P333
	M300 S880 P333
	M300 S0 P166
	M300 S1396 P333
	M300 S3135 P166
	M300 S2093 P333
	M300 S0 P166
	M300 S2349 P333
	M300 S2349 P166
	M300 S2349 P333
	M300 S0 P166
	M300 S1760 P166
	M300 S3135 P666
	M300 S880 P500
	M300 S1567 P333
	M300 S0 P166
	M300 S1396 P500
	M300 S1318 P333
	M300 S1396 P500
	M300 S1318 P166
	M300 S0 P333
	M300 S0 P166
	M300 S1174 P166
	M300 S0 P333
	M300 S1046 P500
	M300 S1567 P500
	M300 S1396 P166
	M300 S0 P333
	M300 S1396 P500
	M300 S1318 P333
	M300 S1396 P333
	M300 S0 P166
	M300 S1318 P166
	M300 S0 P333
	M300 S1174 P166
	M300 S0 P333
	M300 S1046 P500
	M300 S0 P666
	M300 S1760 P333
	M300 S880 P166
	M300 S880 P333
	M300 S1567 P166
	M300 S0 P333
	M300 S880 P333
	M300 S0 P166
	M300 S2349 P166
	M300 S0 P333
	M300 S1567 P166
	M300 S0 P333
	M300 S1396 P500
	M300 S0 P166
	M300 S1760 P500
	M300 S2093 P333
	M300 S1567 P333
	M300 S0 P166
	M300 S1396 P166
	M300 S0 P333
	M300 S1567 P500
	M300 S1396 P166
	M300 S0 P333
	M300 S2093 P500
	M300 S1046 P166
	M300 S1046 P166
	M300 S1174 P166
	M300 S1318 P166
	M300 S1396 P333

[gcode_macro SONG_MACGYVER]
gcode:
	M300 S4434 P150
	M300 S4434 P150
	M300 S4434 P150
	M300 S4434 P150
	M300 S4434 P150
	M300 S4434 P150
	M300 S4434 P150
	M300 S4434 P150
	M300 S2217 P300
	M300 S0 P150
	M300 S2959 P150
	M300 S3322 P300
	M300 S0 P150
	M300 S0 P150
	M300 S4434 P150
	M300 S4434 P300
	M300 S2217 P300
	M300 S1864 P150
	M300 S1864 P150
	M300 S1864 P150
	M300 S3322 P150
	M300 S0 P150
	M300 S3520 P150
	M300 S0 P300
	M300 S0 P300
	M300 S4434 P150
	M300 S4434 P300
	M300 S2217 P300
	M300 S0 P300
	M300 S2959 P150
	M300 S1864 P300
	M300 S3322 P300
	M300 S0 P300


[gcode_macro SONG_TAKEONME]
gcode:
	M300 S932 P150
	M300 S932 P150
	M300 S932 P150
	M300 S1479 P300
	M300 S1244 P300
	M300 S1661 P300
	M300 S1661 P300
	M300 S1661 P150
	M300 S2093 P150
	M300 S2093 P150
	M300 S2217 P150
	M300 S2489 P150
	M300 S2217 P150
	M300 S2217 P150
	M300 S2217 P150
	M300 S1661 P300
	M300 S1479 P300
	M300 S932 P300
	M300 S932 P300
	M300 S932 P150
	M300 S1661 P150
	M300 S1661 P150
	M300 S932 P150
	M300 S1661 P150
	M300 S932 P150
	M300 S932 P150
	M300 S932 P150
	M300 S1479 P300
	M300 S1244 P300
	M300 S1661 P300
	M300 S1661 P300
	M300 S1661 P150
	M300 S2093 P150
	M300 S2093 P150
	M300 S2217 P150
	M300 S2489 P150
	M300 S2217 P150
	M300 S2217 P150
	M300 S2217 P150
	M300 S1661 P300
	M300 S1479 P300
	M300 S932 P300
	M300 S932 P300


[gcode_macro SONG_DUCKTOY]
gcode:
	M300 S2217 P240
	M300 S2217 P240
	M300 S987 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2217 P240
	M300 S987 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2217 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2217 P240
	M300 S987 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2217 P240
	M300 S987 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2489 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2489 P240
	M300 S2217 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2489 P240
	M300 S2217 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2489 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2489 P240
	M300 S2217 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S2489 P240
	M300 S2217 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S3322 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S3322 P240
	M300 S2959 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S3322 P240
	M300 S2959 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S3322 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S3322 P240
	M300 S2959 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S3322 P240
	M300 S2959 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S4434 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S4434 P240
	M300 S1975 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S4434 P240
	M300 S1975 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S4434 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S4434 P240
	M300 S1975 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S1975 P240
	M300 S1108 P120
	M300 S0 P120
	M300 S4434 P240
	M300 S1108 P120

[gcode_macro SONG_LOONEY]
gcode:
	M300 S2093 P428
	M300 S2793 P214
	M300 S2637 P214
	M300 S2349 P214
	M300 S2093 P214
	M300 S880 P642
	M300 S2093 P214
	M300 S2793 P214
	M300 S2637 P214
	M300 S2349 P214
	M300 S2489 P214
	M300 S2637 P642
	M300 S2637 P214
	M300 S2637 P214
	M300 S2093 P214
	M300 S2349 P214
	M300 S2093 P214
	M300 S2637 P214
	M300 S2093 P214
	M300 S2349 P214
	M300 S880 P214
	M300 S2093 P214
	M300 S1567 P214
	M300 S932 P214
	M300 S880 P214
	M300 S1396 P214


[gcode_macro SONG_RICE_COOKER_DONE]
gcode:
	M300 S4698.63 P250
	M300 S5274.04 P250
	M300 S4698.63 P250
	M300 S6271.93 P250
	M300 S4698.63 P250
	M300 S5274.04 P250
	M300 S4698.63 P500
	M300 S5274.04 P250
	M300 S5274.04 P250
	M300 S4698.63 P250
	M300 S5274.04 P250
	M300 S4698.63 P125
	M300 S4186.01 P125
	M300 S3951.07 P125
	M300 S3520.00 P125
	M300 S3951.07 P250
	M300 S3135.96 P250
	M300 S4698.63 P250
	M300 S5274.04 P250
	M300 S4698.63 P250
	M300 S6271.93 P250
	M300 S4698.63 P250
	M300 S5274.04 P250
	M300 S4698.63 P500
	M300 S5274.04 P250
	M300 S5274.04 P250
	M300 S4698.63 P250
	M300 S5274.04 P250
	M300 S4698.63 P125
	M300 S4186.01 P125
	M300 S3951.07 P125
	M300 S3520.00 P125
	M300 S3135.96 P500

[output_pin beeper]
pin: PC9
pwm: True
value: 0
shutdown_value: 0
cycle_time: 0.001 #   Default PWM frequency : 0.001 = 1ms will give a tone of 1kHz

[gcode_macro M300]
gcode:
	{% set beeper_state = printer.save_variables.variables.beeper_state|lower %}
	{% set S = params.S|default(1000)|int %}
	{% set P = params.P|default(100)|int %}

	{% if beeper_state == "on" %}
		SET_PIN PIN=beeper VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
		G4 P{P}
		SET_PIN PIN=beeper VALUE=0
	{% endif %}